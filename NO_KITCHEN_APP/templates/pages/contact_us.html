{%extends "pages/main.html"%}
{% load static %}
{%block content%}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Contact Us</title>

    
    <!-- External CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
      integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link rel="stylesheet" href="{% static 'CSS/contact.css' %}" />
  </head>


  <body>
   

    <!-- Contact Section -->
    <div class="container text-center my-5 ">
      <h1 class="display-4">Contact <span class="text-warning">Us</span></h1>
      <p class="fw-bold">HOME / CONTACT</p>
    </div>

    <div class="container my-5">
      <div class="row text-center">
        <div class="col-md-4">
          <i class="fas fa-map-marker-alt fa-3x text-warning"></i>
          <h4 class="my-3">Address</h4>
          <p>Vasavi MPM Grand
            817-7th floor, Vasavi Mpm Grand, Ameerpet, Hyderabad, Telangana 500038, India</p>
        </div>
        <div class="col-md-4">
          <i class="fas fa-phone fa-3x text-warning"></i>
          <h4 class="my-3">Call Us</h4>
          <p>+0863 4534 6789</p>
        </div>
        <div class="col-md-4">
          <i class="fas fa-envelope fa-3x text-warning"></i>
          <h4 class="my-3">Email Us</h4>
          <p>info@example.com</p>
        </div>
      </div>
    </div>

    <div class="container my-5">
      <div class="row">
        <div class="col-md-6">
          <iframe
            src="https://www.google.com/maps/embed?pb=!1m14!1m8!1m3!1d3020.2675471519486!2d-74.006015!3d40.712776!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3bcb90cee196174f:0xbf13004d14ee215d!2s123+Street+NY!5e0!3m2!1sen!2sus!4v1677882632902!5m2!1sen!2sus"
            width="100%"
            height="350"
            style="border: 0"
            allowfullscreen=""
            loading="lazy"
            referrerpolicy="no-referrer-when-downgrade"
          ></iframe>
        </div>
        <div class="col-md-6">
  <form method="POST" novalidate class="form-control" id="contactForm">
    {% csrf_token %}
    <div class="mb-3">
      {{ form.name.label_tag }} {{ form.name }}
      <div class="error text-danger" id="nameError"></div>
    </div>
    <div class="mb-3">
      {{ form.email.label_tag }} {{ form.email }}
      <div class="error text-danger" id="emailError"></div>
    </div>
    <div class="mb-3">
      {{ form.subject.label_tag }} {{ form.subject }}
      <div class="error text-danger" id="subjectError"></div>
    </div>
    <div class="mb-3">
      {{ form.message.label_tag }} {{ form.message }}
      <div class="error text-danger" id="messageError"></div>
    </div>
    <button type="submit" class="btn btn-primary">Send Message</button>
  </form>
</div>

      </div>
    </div>

   
    <script>
document.getElementById('contactForm').addEventListener('submit', function(e) {
  let valid = true;

  // Clear previous errors
  ['nameError', 'emailError', 'subjectError', 'messageError'].forEach(id => {
    document.getElementById(id).textContent = '';
  });

  // Get form field values by their IDs (Django usually sets id="id_fieldname")
  const name = document.getElementById('id_name').value.trim();
  const email = document.getElementById('id_email').value.trim();
  const subject = document.getElementById('id_subject').value.trim();
  const message = document.getElementById('id_message').value.trim();

  // Name validation: only letters and spaces
  const nameRegex = /^[A-Za-z\s]+$/;
  if (!nameRegex.test(name)) {
    document.getElementById('nameError').textContent = "Name must contain only letters and spaces.";
    valid = false;
  }

  // Email validation: simple regex
  const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
  if (!emailRegex.test(email)) {
    document.getElementById('emailError').textContent = "Enter a valid email address.";
    valid = false;
  }

  // Subject validation: letters, numbers, and simple punctuation
  const subjectRegex = /^[A-Za-z0-9 .,!?-]+$/;
  if (!subjectRegex.test(subject)) {
    document.getElementById('subjectError').textContent = "Subject contains invalid characters.";
    valid = false;
  }

  // Message validation: at least 10 characters
  if (message.length < 10) {
    document.getElementById('messageError').textContent = "Message must be at least 10 characters.";
    valid = false;
  }

  if (!valid) {
    e.preventDefault();  // stop form submission if invalid
  }
});
</script>

    <!-- JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-p7Y+JqzJjIR0MlxEovlpCVQmpZxlPCOeD0GJb4RYJj4ty4Gp75IG9cu8Ny0Y/hl+" crossorigin="anonymous"></script>
  </body>
</html>
{% endblock %}